<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="io.github.xfdzcoder.noj.cloud.mini.question.mapper.ExecuteResultMapper">

    <select id="selectHeatmap" resultType="io.github.xfdzcoder.noj.cloud.mini.question.dto.resp.Heatmap">
        SELECT date_format(create_date_time, '%Y-%m-%d') as date, COUNT(*) as count
        FROM execute_result
        WHERE user_id = #{userId}
          AND create_date_time >= ${startDate}
        GROUP BY date
    </select>
</mapper>